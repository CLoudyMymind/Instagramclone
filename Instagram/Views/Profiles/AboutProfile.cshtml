@using Microsoft.AspNetCore.Identity
@model Instagram.ViewModels.AboutsViewModel
@{
    ViewBag.Title = "–ø–æ–¥—Ä–æ–±–Ω–∏–µ –æ —é–∑–µ—Ä–µ";
    Layout = "_Layout";
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}
<div class="profile-wrap" xmlns="http://www.w3.org/1999/html">
    <div class="profile-avatar">
        <div class="circ-story circ-gradient"></div>
        <img src="@Model.User.PathFile" alt="—Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è">
    </div>
    <div class="profile-info">
        <div class="profile-title mb-1rem">
            <h2>@Model.User.UserName</h2>
            <a class="cta btn ms-5 " type="submit" asp-action="PostsCreate" asp-controller="Posts">–°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç</a>
        </div>
        <ul class="profile-numbers mb-1rem">
            <li>
                <a href="#">
                    <span class="profile-posts">@Model.User.Posts.Count</span>
                    –ü–æ—Å—Ç—ã
                </a>
            </li>
            <li>
                <a asp-action="AllFollowersUser" asp-controller="Profiles" asp-route-id="@Model.User.Id">
                    <span class="profile-followers">@Model.Followers.Count</span>
                    –ø–æ–¥–ø–∏—Å–∫–∏
                </a>
            </li>
            <li>
                <a asp-action="AllFlowingsUsers" asp-controller="Profiles" asp-route-id="@Model.User.Id">
                    <span class="profile-following">@Model.Followings.Count</span>
                    –ü–æ–¥–ø–∏—Å—á–∏–∫–∏
                </a>
            </li>
        </ul>
        <div class="profile-bio">
            <h1 class="profile-name">@Model.User.Name</h1>
            <span class="profile-desc">
                –æ–ø–∏—Å–∞–Ω–∏–µ: @Model.User.About
            </span>
            <span class="profile-desc">
                –ø–æ–ª: @Model.User.Male
            </span>
            <p>@Model.User.PhoneNumber</p>
        </div>
    </div>
</div>
<div class="gallery-pics inner-wrap">
    <div class="pic-wrap">
        @foreach (var post in Model.User.Posts)
        {
            <div class="post post-@post.Id">

            <div class="pic mt-3">
                <div class="opacity-overlay">
                    <a asp-action="AboutsPostData" asp-route-id="@post.Id">
                        <img src="@post.PathFile">
                    </a>
                </div>
                <div class="icons">
                    <i class="fa fa-heart">@post.Likes.Count ‚ù§</i>
                    <i class="fa fa-comment">@post.Comments.Count üó®Ô∏è</i>
                </div>
                <div class="mt-2 me-2 mb-2">
                    @if (User.Identity.IsAuthenticated != null)
                    {
                        @if (post.Creater.Id == Model.User.Id || post.Id != null || Model.User.Id != null)
                        {
                            <button id="deleteButton" postId="@post.Id" class="btn-outline-danger btn">–£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç</button>
                            <a asp-controller="Posts" asp-action="EditPost" asp-route-id="@post.Id" class="btn-outline-success btn">–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Å—Ç</a>
                        }
                    }
                </div>
            </div>
            </div>
        }
    </div>
</div>

